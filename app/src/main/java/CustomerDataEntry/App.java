/*
 * This Java source file was generated by the Gradle 'init' task.
 */
package CustomerDataEntry;
import javax.swing.*;
import java.awt.*;
import org.bson.BsonDocument;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import com.mongodb.client.MongoClients;
import com.mongodb.client.MongoDatabase;
import org.bson.Document;
import com.mongodb.client.MongoClient;
import com.mongodb.client.MongoCollection;
import com.mongodb.MongoClientSettings;
import com.mongodb.ConnectionString;

public class App {

    // Method to connect to the database and insert Document.
    private void CreateConnection(){
    try {
        // Connection String
        ConnectionString conn = new ConnectionString("mongodb+srv://lee:Gamez2232@cluster0.guc9f.mongodb.net/GaugeDB?retryWrites=true&w=majority");
        
        // MongoSettings
        MongoClientSettings settings = MongoClientSettings.builder()    
            .applyConnectionString(conn)
            .build();
        // Initialzing the client with the settings.
        MongoClient mongoClient = MongoClients.create(settings);

        // Initializing the variable for connecting to the GaugeDB database.
        MongoDatabase database = mongoClient.getDatabase("GaugeDB");
    
        // Initializing the variable for connecting to the collection. 
        MongoCollection<Document> coll = database.getCollection("Suppliers");

        // Creating the document that will be inserted into the database.
        Document doc = new Document()
                    .append("name", "cole")
                    .append("type", "cool");
        //Inserting the document into the database.
        coll.insertOne(doc);
      
    }finally{
        // Notification that the operation was completed.
        System.out.println("Document Inserted");
    }
    

}
    private JPanel createPanel(){
       
        //Setting up the panel.
        JPanel panel = new JPanel(new FlowLayout(FlowLayout.CENTER, 10, 10));
           //Creating the textarea variables
        JTextArea firstNameArea = new JTextArea(1, 1);
        JTextArea lastNameArea = new JTextArea(1,1);
        JTextArea zipCodeArea = new JTextArea(1,1);
        
        //Creating the label variables
        JLabel firstNameLabel = new JLabel("First Name");
        JLabel lastNameLabel = new JLabel("Last Name");
        JLabel zipCodeLabel = new JLabel("Zip Code");
        JButton subButton = new JButton("Submit Information");
        subButton.addActionListener(new ActionListener(){
            
            @Override public void actionPerformed(ActionEvent e) {
               CreateConnection();
            }
        });
        
     
        //creating borders for the textareas
        firstNameArea.setLineWrap(true);
        firstNameArea.setBorder(BorderFactory.createLineBorder(Color.black));
        
        lastNameArea.setLineWrap(true);
        lastNameArea.setBorder(BorderFactory.createLineBorder(Color.black));
        
        zipCodeArea.setLineWrap(true);
        zipCodeArea.setBorder(BorderFactory.createLineBorder(Color.black));
        
        //Adding components to the panel.
        panel.add(firstNameLabel);
        panel.add(firstNameArea);
        panel.add(lastNameLabel);
        panel.add(lastNameArea);
        panel.add(zipCodeLabel);
        panel.add(zipCodeArea);
        panel.add(subButton);

        // Returns the panel.
        return panel;
    }
    public void createForm(){
        
        JFrame form = new JFrame();
        form.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        form.setContentPane(createPanel());
        
        form.pack();
        form.setPreferredSize(new Dimension(800, 500));
        form.setLocation(500, 200);
        
        form.setVisible(true);
        
    }

    public static void main(String[] args) {
        //System.out.println(new App().getGreeting());
        new App().createForm();
    }
}
